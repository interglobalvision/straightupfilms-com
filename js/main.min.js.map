{"version":3,"sources":["main.js"],"names":["stickyFooter","wh","$main","css","projectTitles","jQuery","$longAboutTrigger","words","$posts","$carousel","$films","window","height","resize","length","enquire","register","match","masonry","unmatch","document","ready","test","navigator","userAgent","location","hash","setTimeout","scrollTo","Modernizr","svg","$","attr","this","replace","on","click","e","target","innerHTML","t","children","first","hide","$longAbout","slideToggle","s","shuffle","l","each","i","el","imagesLoaded","transitionDuration","preventDefault","closest","show","$film$posts","$filmFilters","data","d","removeClass","addClass","ScrollTo","superslides","inherit_height_from","pagination","play","$holders","init.slides","animating.slides","animated.slides","$footerDrawers","$metaTriggers","$t","slideUp","slideDown","scrollBy","isSafari","HTMLElement"],"mappings":"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","file":"main.min.js","sourcesContent":["var projectTitles = jQuery('li.project');\n\nvar $longAboutTrigger = jQuery('#long-about-trigger');\n\nvar words = jQuery('li.animate');\nvar $posts = jQuery('#posts');\nvar $carousel = jQuery('#carousel');\nvar $films = jQuery('#films');\n\nvar wh = jQuery(window).height();\nvar $main = jQuery('#main-content');\n\nfunction stickyFooter(wh) {\n  $main.css('min-height', (wh - 170) + 'px');\n}\n\njQuery(window).resize(function() {\n  wh = jQuery(window).height();\n  stickyFooter(wh);\n});\n\nif ($posts.length) {\n  enquire.register(\"screen and (max-width:1240px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n  enquire.register(\"screen and (max-width:1440px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n  enquire.register(\"screen and (min-width:2140px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n}\n\njQuery(document).ready(function() {\n\n  /mobile/i.test(navigator.userAgent) && !window.location.hash && setTimeout(function() {\n    window.scrollTo(0, 1);\n  }, 0);\n\n  stickyFooter(wh);\n\n  if (!Modernizr.svg) {\n    $('img[src*=\"svg\"]').attr('src', function() {\n      return $(this).attr('src').replace('.svg', '.png');\n    });\n  }\n\n  if (projectTitles.length) {\n    projectTitles.on({\n      click: function(e) {\n        if (e.target.innerHTML !== 'READ ON...') {\n          var t = $(this).children('div.project-pop').first();\n\n          if (t.css('display') === 'none') {\n            t.css('display', 'inline-block');\n          } else {\n            t.hide();\n          }\n        }\n      },\n    });\n  }\n\n  if ($longAboutTrigger.length) {\n\n    var $longAbout = $('#long-about');\n\n    $longAboutTrigger.on({\n      click: function() {\n        $longAbout.slideToggle();\n      },\n    });\n  }\n\n  if (words.length) {\n    var s = $.shuffle(words);\n\n    setTimeout(function() {\n\n      var l = s.length;\n\n      s.each(function(i, el) {\n        setTimeout(function() {\n          $(el).css('opacity', 1);\n        }, 10 + (i * 150));\n      });\n\n      setTimeout(function() {\n        $('#animation-suf').css('opacity', 1);\n      }, 10 + (l * 150));\n\n    }, 400);\n  }\n\n  if ($posts.length) {\n    $posts.imagesLoaded(function() {\n      $posts.masonry({\n        transitionDuration: 0,\n      });\n    });\n\n    $('a.more-link').click(function(e) {\n      e.preventDefault();\n      var t = $(this).closest('div.post-copy');\n\n      t.children('div.post-copy-$main').hide();\n      t.children('div.post-copy-full').show();\n\n      $posts.masonry('layout');\n    });\n  }\n\n  if ($films.length) {\n    var $film$posts = $('article.film');\n    var $filmFilters = $('#films-filter li');\n\n    $('article.film[data-bg]').each(function() {\n      $(this).css('background-image', 'url(' + $(this).data('bg') + ')');\n    });\n\n    $filmFilters.on({\n      click: function() {\n        var d = $(this).data('target');\n\n        if (d === 'all') {\n          $film$posts.show();\n          $filmFilters.removeClass('current');\n        } else {\n          $film$posts.hide();\n          $('article.category-' + d).show();\n          $filmFilters.removeClass('current');\n          $(this).addClass('current');\n        }\n\n        $films.ScrollTo();\n      },\n    });\n  }\n\n  if ($carousel.length) {\n    $carousel.superslides({\n      inherit_height_from: '#films-carousel',\n      pagination: false,\n      play: 5500,\n    });\n\n    var $holders = $('#carousel .held');\n\n    $carousel.on({\n      'init.slides': function() {\n        $carousel.css('opacity', 1);\n      },\n\n      'animating.slides': function() {\n        $holders.css('opacity', 0);\n      },\n\n      'animated.slides': function() {\n        setTimeout(function() {\n          $holders.css('opacity', 1);\n        }, 800);\n      },\n    });\n  }\n\n  /* footer drawers */\n  var $footerDrawers = $('.footer-meta-drawer');\n  var $metaTriggers = $('.meta-drawer-trigger');\n\n  $('#credits-trigger').on({\n    click: function() {\n      var $t = $(this);\n\n      $footerDrawers.slideUp();\n\n      if (!$t.data('active')) {\n        $('#footer-meta-drawer-credits').slideDown(null, function() {\n          window.scrollBy(0, $('#footer-meta-drawer-credits').height() + 45);\n        });\n\n        $t.data('active', true);\n      } else {\n        $metaTriggers.data('active', false);\n      }\n    },\n  });\n  $('#terms-trigger').on({\n    click: function() {\n      var $t = $(this);\n\n      $footerDrawers.slideUp();\n\n      if (!$t.data('active')) {\n        $('#footer-meta-drawer-terms').slideDown(null, function() {\n          window.scrollBy(0, $('#footer-meta-drawer-terms').height() + 45);\n        });\n\n        $t.data('active', true);\n      } else {\n        $metaTriggers.data('active', false);\n      }\n    },\n  });\n\n  var isSafari = /Constructor/.test(window.HTMLElement);\n\n  if (isSafari) {\n    $('#discologo').css('padding-bottom', '7px');\n  }\n\n});"],"sourceRoot":"/source/"}