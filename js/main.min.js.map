{"version":3,"sources":["main.js"],"names":["stickyFooter","wh","$main","css","projectTitles","jQuery","$longAboutTrigger","$words","$posts","$carousel","$films","$brandedModal","window","height","resize","length","enquire","register","match","masonry","unmatch","document","ready","test","navigator","userAgent","location","hash","setTimeout","scrollTo","on","click","e","target","innerHTML","t","$","this","children","first","hide","$longAbout","slideToggle","s","shuffle","l","each","i","el","addClass","imagesLoaded","transitionDuration","preventDefault","closest","show","$film$posts","$filmFilters","data","d","removeClass","ScrollTo","superslides","inherit_height_from","pagination","play","$holders","init.slides","animating.slides","animated.slides","BrandedModal","self","player","nowPlaying","$playlist","playlistLength","vimeoContainer","titleContainer","loadVimeo","$element","_this","index","html","vimeo","title","$f","addEvent","next","eq","prev","close","$footerDrawers","$metaTriggers","$t","slideUp","slideDown","scrollBy"],"mappings":"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","file":"main.min.js","sourcesContent":["var projectTitles = jQuery('li.project');\n\nvar $longAboutTrigger = jQuery('#long-about-trigger');\n\nvar $words = jQuery('li.animate');\nvar $posts = jQuery('#posts');\nvar $carousel = jQuery('#carousel');\nvar $films = jQuery('#films');\nvar $brandedModal = jQuery('#branded-modal');\n\nvar wh = jQuery(window).height();\nvar $main = jQuery('#main-content');\n\nfunction stickyFooter(wh) {\n  $main.css('min-height', (wh - 170) + 'px');\n}\n\njQuery(window).resize(function() {\n  wh = jQuery(window).height();\n  stickyFooter(wh);\n});\n\nif ($posts.length) {\n  enquire.register(\"screen and (max-width:1240px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n  enquire.register(\"screen and (max-width:1440px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n  enquire.register(\"screen and (min-width:2140px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n}\n\njQuery(document).ready(function() {\n\n  /mobile/i.test(navigator.userAgent) && !window.location.hash && setTimeout(function() {\n    window.scrollTo(0, 1);\n  }, 0);\n\n  stickyFooter(wh);\n\n  if (projectTitles.length) {\n    projectTitles.on({\n      click: function(e) {\n        if (e.target.innerHTML !== 'READ ON...') {\n          var t = $(this).children('div.project-pop').first();\n\n          if (t.css('display') === 'none') {\n            t.css('display', 'inline-block');\n          } else {\n            t.hide();\n          }\n        }\n      },\n    });\n  }\n\n  if ($longAboutTrigger.length) {\n\n    var $longAbout = $('#long-about');\n\n    $longAboutTrigger.on({\n      click: function() {\n        $longAbout.slideToggle();\n      },\n    });\n  }\n\n  if ($words.length) {\n    var s = $.shuffle($words);\n\n    setTimeout(function() {\n\n      var l = s.length;\n\n      s.each(function(i, el) {\n        setTimeout(function() {\n          $(el).addClass('show');\n        }, 10 + (i * 150));\n      });\n\n      setTimeout(function() {\n        $('#animation-suf').addClass('show');\n      }, 10 + (l * 150));\n\n    }, 400);\n  }\n\n  if ($posts.length) {\n    $posts.imagesLoaded(function() {\n      $posts.masonry({\n        transitionDuration: 0,\n      });\n    });\n\n    $('a.more-link').click(function(e) {\n      e.preventDefault();\n      var t = $(this).closest('div.post-copy');\n\n      t.children('div.post-copy-$main').hide();\n      t.children('div.post-copy-full').show();\n\n      $posts.masonry('layout');\n    });\n  }\n\n  if ($films.length) {\n    var $film$posts = $('article.film');\n    var $filmFilters = $('#films-filter li');\n\n    $('article.film[data-bg]').each(function() {\n      $(this).css('background-image', 'url(' + $(this).data('bg') + ')');\n    });\n\n    $filmFilters.on({\n      click: function() {\n        var d = $(this).data('target');\n\n        if (d === 'all') {\n          $film$posts.show();\n          $filmFilters.removeClass('current');\n        } else {\n          $film$posts.hide();\n          $('article.category-' + d).show();\n          $filmFilters.removeClass('current');\n          $(this).addClass('current');\n        }\n\n        $films.ScrollTo();\n      },\n    });\n  }\n\n  if ($carousel.length) {\n    $carousel.superslides({\n      inherit_height_from: '#films-carousel',\n      pagination: false,\n      play: 5500,\n    });\n\n    var $holders = $('#carousel .held');\n\n    $carousel.on({\n      'init.slides': function() {\n        $carousel.css('opacity', 1);\n      },\n\n      'animating.slides': function() {\n        $holders.css('opacity', 0);\n      },\n\n      'animated.slides': function() {\n        setTimeout(function() {\n          $holders.css('opacity', 1);\n        }, 800);\n      },\n    });\n  }\n\n  if ($brandedModal.length) {\n\n    var BrandedModal = {\n      self: $brandedModal,\n      player: null,\n      nowPlaying: 0,\n      $playlist: $('.branded'),\n      playlistLength: ($('.branded').length - 1),\n      vimeoContainer: $('#branded-modal-video-wrapper'),\n      titleContainer: $('#branded-modal-title'),\n\n      loadVimeo: function($element) {\n        var _this = this;\n        var data = $element.data();\n\n        _this.self.show();\n        _this.nowPlaying = $element.index();\n        _this.vimeoContainer.html('<iframe id=\"branded-modal-vimeo\" width=\"100%\" height=\"100%\" src=\"//player.vimeo.com/video/' + data.vimeo + '?api=1&autoplay=1&badge=0&byline=0&portrait=0&player_id=branded-modal-vimeo\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');\n        _this.titleContainer.html(data.title);\n\n        _this.player = $f($('#branded-modal-vimeo')[0]);\n        _this.player.addEvent('ready', function() {\n          _this.player.addEvent('finish', function() {\n            BrandedModal.next();\n          });\n        });\n\n      },\n\n      next: function() {\n        var _this = this;\n        var $active = _this.$playlist.eq(_this.nowPlaying);\n\n        if (_this.nowPlaying === _this.playlistLength) {\n          _this.loadVimeo(_this.$playlist.eq(0));\n        } else {\n          _this.loadVimeo(_this.$playlist.eq(_this.nowPlaying + 1));\n        }\n\n      },\n\n      prev: function() {\n        var _this = this;\n        var $active = _this.$playlist.eq(_this.nowPlaying);\n\n        if (_this.nowPlaying === 0) {\n          _this.loadVimeo(_this.$playlist.eq(_this.playlistLength));\n        } else {\n          _this.loadVimeo(_this.$playlist.eq(_this.nowPlaying - 1));\n        }\n\n      },\n\n      close: function() {\n        this.vimeoContainer.html('');\n        this.self.hide();\n      },\n    };\n\n    jQuery('.js-branded-overlay-trigger').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.loadVimeo($(this).closest('.branded'));\n      },\n    });\n\n    jQuery('#branded-modal-nav-next').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.next();\n      },\n    });\n\n    jQuery('#branded-modal-nav-prev').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.prev();\n      },\n    });\n\n    jQuery('#branded-modal-close').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.close();\n      },\n    });\n\n  }\n\n  /* footer drawers */\n  var $footerDrawers = $('.footer-meta-drawer');\n  var $metaTriggers = $('.meta-drawer-trigger');\n\n  $('#credits-trigger').on({\n    click: function() {\n      var $t = $(this);\n\n      $footerDrawers.slideUp();\n\n      if (!$t.data('active')) {\n        $('#footer-meta-drawer-credits').slideDown(null, function() {\n          window.scrollBy(0, $('#footer-meta-drawer-credits').height() + 45);\n        });\n\n        $t.data('active', true);\n      } else {\n        $metaTriggers.data('active', false);\n      }\n    },\n  });\n  $('#terms-trigger').on({\n    click: function() {\n      var $t = $(this);\n\n      $footerDrawers.slideUp();\n\n      if (!$t.data('active')) {\n        $('#footer-meta-drawer-terms').slideDown(null, function() {\n          window.scrollBy(0, $('#footer-meta-drawer-terms').height() + 45);\n        });\n\n        $t.data('active', true);\n      } else {\n        $metaTriggers.data('active', false);\n      }\n    },\n  });\n\n});"],"sourceRoot":"/source/"}