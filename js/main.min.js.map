{"version":3,"sources":["main.js"],"names":["stickyFooter","wh","$main","css","projectTitles","jQuery","$longAboutTrigger","$words","$posts","$carousel","$films","$brandedModal","window","height","resize","length","enquire","register","match","masonry","unmatch","document","ready","test","navigator","userAgent","location","hash","setTimeout","scrollTo","Modernizr","svg","$","attr","this","replace","on","click","e","target","innerHTML","t","children","first","hide","$longAbout","slideToggle","s","shuffle","l","each","i","el","addClass","imagesLoaded","transitionDuration","preventDefault","closest","show","$film$posts","$filmFilters","data","d","removeClass","ScrollTo","superslides","inherit_height_from","pagination","play","$holders","init.slides","animating.slides","animated.slides","BrandedModal","self","player","nowPlaying","$playlist","playlistLength","vimeoContainer","loadVimeo","$element","_this","index","html","vimeo","$f","addEvent","next","eq","prev","close","$footerDrawers","$metaTriggers","$t","slideUp","slideDown","scrollBy","isSafari","HTMLElement"],"mappings":"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","file":"main.min.js","sourcesContent":["var projectTitles = jQuery('li.project');\n\nvar $longAboutTrigger = jQuery('#long-about-trigger');\n\nvar $words = jQuery('li.animate');\nvar $posts = jQuery('#posts');\nvar $carousel = jQuery('#carousel');\nvar $films = jQuery('#films');\nvar $brandedModal = jQuery('#branded-modal');\n\nvar wh = jQuery(window).height();\nvar $main = jQuery('#main-content');\n\nfunction stickyFooter(wh) {\n  $main.css('min-height', (wh - 170) + 'px');\n}\n\njQuery(window).resize(function() {\n  wh = jQuery(window).height();\n  stickyFooter(wh);\n});\n\nif ($posts.length) {\n  enquire.register(\"screen and (max-width:1240px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n  enquire.register(\"screen and (max-width:1440px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n  enquire.register(\"screen and (min-width:2140px)\", {\n    match: function() {\n      $posts.masonry('layout');\n    },\n\n    unmatch: function() {\n      $posts.masonry('layout');\n    },\n  });\n}\n\njQuery(document).ready(function() {\n\n  /mobile/i.test(navigator.userAgent) && !window.location.hash && setTimeout(function() {\n    window.scrollTo(0, 1);\n  }, 0);\n\n  stickyFooter(wh);\n\n  if (!Modernizr.svg) {\n    $('img[src*=\"svg\"]').attr('src', function() {\n      return $(this).attr('src').replace('.svg', '.png');\n    });\n  }\n\n  if (projectTitles.length) {\n    projectTitles.on({\n      click: function(e) {\n        if (e.target.innerHTML !== 'READ ON...') {\n          var t = $(this).children('div.project-pop').first();\n\n          if (t.css('display') === 'none') {\n            t.css('display', 'inline-block');\n          } else {\n            t.hide();\n          }\n        }\n      },\n    });\n  }\n\n  if ($longAboutTrigger.length) {\n\n    var $longAbout = $('#long-about');\n\n    $longAboutTrigger.on({\n      click: function() {\n        $longAbout.slideToggle();\n      },\n    });\n  }\n\n  if ($words.length) {\n    var s = $.shuffle($words);\n\n    setTimeout(function() {\n\n      var l = s.length;\n\n      s.each(function(i, el) {\n        setTimeout(function() {\n          $(el).addClass('show');\n        }, 10 + (i * 150));\n      });\n\n      setTimeout(function() {\n        $('#animation-suf').addClass('show');\n      }, 10 + (l * 150));\n\n    }, 400);\n  }\n\n  if ($posts.length) {\n    $posts.imagesLoaded(function() {\n      $posts.masonry({\n        transitionDuration: 0,\n      });\n    });\n\n    $('a.more-link').click(function(e) {\n      e.preventDefault();\n      var t = $(this).closest('div.post-copy');\n\n      t.children('div.post-copy-$main').hide();\n      t.children('div.post-copy-full').show();\n\n      $posts.masonry('layout');\n    });\n  }\n\n  if ($films.length) {\n    var $film$posts = $('article.film');\n    var $filmFilters = $('#films-filter li');\n\n    $('article.film[data-bg]').each(function() {\n      $(this).css('background-image', 'url(' + $(this).data('bg') + ')');\n    });\n\n    $filmFilters.on({\n      click: function() {\n        var d = $(this).data('target');\n\n        if (d === 'all') {\n          $film$posts.show();\n          $filmFilters.removeClass('current');\n        } else {\n          $film$posts.hide();\n          $('article.category-' + d).show();\n          $filmFilters.removeClass('current');\n          $(this).addClass('current');\n        }\n\n        $films.ScrollTo();\n      },\n    });\n  }\n\n  if ($carousel.length) {\n    $carousel.superslides({\n      inherit_height_from: '#films-carousel',\n      pagination: false,\n      play: 5500,\n    });\n\n    var $holders = $('#carousel .held');\n\n    $carousel.on({\n      'init.slides': function() {\n        $carousel.css('opacity', 1);\n      },\n\n      'animating.slides': function() {\n        $holders.css('opacity', 0);\n      },\n\n      'animated.slides': function() {\n        setTimeout(function() {\n          $holders.css('opacity', 1);\n        }, 800);\n      },\n    });\n  }\n\n  if ($brandedModal.length) {\n\n    var BrandedModal = {\n      self: $brandedModal,\n      player: null,\n      nowPlaying: 0,\n      $playlist: $('.branded'),\n      playlistLength: ($('.branded').length - 1),\n      vimeoContainer: $('#branded-modal-video-wrapper'),\n\n      loadVimeo: function($element) {\n        var _this = this;\n        var data = $element.data();\n\n        _this.self.show();\n        _this.nowPlaying = $element.index();\n        _this.vimeoContainer.html('<iframe id=\"branded-modal-vimeo\" width=\"100%\" height=\"100%\" src=\"//player.vimeo.com/video/' + data.vimeo + '?api=1&autoplay=1&badge=0&byline=0&portrait=0&player_id=branded-modal-vimeo\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');\n\n        _this.player = $f($('#branded-modal-vimeo')[0]);\n        _this.player.addEvent('ready', function() {\n          _this.player.addEvent('finish', function() {\n            BrandedModal.next();\n          });\n        });\n\n      },\n\n      next: function() {\n        var _this = this;\n        var $active = _this.$playlist.eq(_this.nowPlaying);\n\n        if (_this.nowPlaying === _this.playlistLength) {\n          _this.loadVimeo(_this.$playlist.eq(0));\n        } else {\n          _this.loadVimeo(_this.$playlist.eq(_this.nowPlaying + 1));\n        }\n\n      },\n\n      prev: function() {\n        var _this = this;\n        var $active = _this.$playlist.eq(_this.nowPlaying);\n\n        if (_this.nowPlaying === 0) {\n          _this.loadVimeo(_this.$playlist.eq(_this.playlistLength));\n        } else {\n          _this.loadVimeo(_this.$playlist.eq(_this.nowPlaying - 1));\n        }\n\n      },\n\n      close: function() {\n        this.vimeoContainer.html('');\n        this.self.hide();\n      },\n    };\n\n    jQuery('.js-branded-overlay-trigger').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.loadVimeo($(this).closest('.branded'));\n      },\n    });\n\n    jQuery('#branded-modal-nav-next').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.next();\n      },\n    });\n\n    jQuery('#branded-modal-nav-prev').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.prev();\n      },\n    });\n\n    jQuery('#branded-modal-close').on({\n      click: function(e) {\n        e.preventDefault();\n\n        BrandedModal.close();\n      },\n    });\n\n  }\n\n  /* footer drawers */\n  var $footerDrawers = $('.footer-meta-drawer');\n  var $metaTriggers = $('.meta-drawer-trigger');\n\n  $('#credits-trigger').on({\n    click: function() {\n      var $t = $(this);\n\n      $footerDrawers.slideUp();\n\n      if (!$t.data('active')) {\n        $('#footer-meta-drawer-credits').slideDown(null, function() {\n          window.scrollBy(0, $('#footer-meta-drawer-credits').height() + 45);\n        });\n\n        $t.data('active', true);\n      } else {\n        $metaTriggers.data('active', false);\n      }\n    },\n  });\n  $('#terms-trigger').on({\n    click: function() {\n      var $t = $(this);\n\n      $footerDrawers.slideUp();\n\n      if (!$t.data('active')) {\n        $('#footer-meta-drawer-terms').slideDown(null, function() {\n          window.scrollBy(0, $('#footer-meta-drawer-terms').height() + 45);\n        });\n\n        $t.data('active', true);\n      } else {\n        $metaTriggers.data('active', false);\n      }\n    },\n  });\n\n  var isSafari = /Constructor/.test(window.HTMLElement);\n\n  if (isSafari) {\n    $('#discologo').css('padding-bottom', '7px');\n  }\n\n});"],"sourceRoot":"/source/"}