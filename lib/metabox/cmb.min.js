jQuery(document).ready(function(e){"use strict";var i;e(".cmb_timepicker").each(function(){e("#"+jQuery(this).attr("id")).timePicker({startTime:"07:00",endTime:"22:00",show24Hours:false,separator:":",step:30})});e(".cmb_datepicker").each(function(){e("#"+jQuery(this).attr("id")).datepicker()});e("#ui-datepicker-div").wrap('<div class="cmb_element" />');e("input:text.cmb_colorpicker").each(function(i){e(this).after('<div id="picker-'+i+'" style="z-index: 1000; background: #EEE; border: 1px solid #CCC; position: absolute; display: block;"></div>');e("#picker-"+i).hide().farbtastic(e(this))}).focus(function(){e(this).next().show()}).blur(function(){e(this).next().hide()});e(".cmb_upload_file").change(function(){i=e(this).attr("name");e("#"+i+"_id").val("")});e(".cmb_upload_button").live("click",function(){var t;i=e(this).prev("input").attr("name");t="Use as "+e("label[for="+i+"]").text();tb_show("","media-upload.php?post_id="+e("#post_ID").val()+"&type=file&cmb_force_send=true&cmb_send_label="+t+"&TB_iframe=true");return false});e(".cmb_remove_file_button").live("click",function(){i=e(this).attr("rel");e("input#"+i).val("");e("input#"+i+"_id").val("");e(this).parent().remove();return false});window.original_send_to_editor=window.send_to_editor;window.send_to_editor=function(t){var a,r,s,n,l,o,c,d=true;if(i){if(e(t).html(t).find("img").length>0){a=e(t).html(t).find("img").attr("src");r=e(t).html(t).find("img").attr("class");s=r.split(" ");n=s[s.length-1];n=n.replace("wp-image-","")}else{l=t.split("'");a=l[1];o=l[2];o=o.replace(">","");o=o.replace("</a>","");n=""}c=/(jpe?g|png|gif|ico)$/gi;if(a.match(c)){d='<div class="img_status"><img src="'+a+'" alt="" /><a href="#" class="cmb_remove_file_button" rel="'+i+'">Remove Image</a></div>'}else{t='<a href="'+a+'" target="_blank" rel="external">View File</a>';d='<div class="no_image"><span class="file_link">'+t+'</span>&nbsp;&nbsp;&nbsp;<a href="#" class="cmb_remove_file_button" rel="'+i+'">Remove</a></div>'}e("#"+i).val(a);e("#"+i+"_id").val(n);e("#"+i).siblings(".cmb_upload_status").slideDown().html(d);tb_remove()}else{window.original_send_to_editor(t)}i=""}});